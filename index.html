
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ChatGPT</title>
<style>
  body {
    margin: 0;
    background: #202123;
    font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    color: #ECECEC;
    height: 100vh;
    display: flex;
    flex-direction: column;
  }
  .fake-urlbar {
    background: #2d2f31; /* closer to screenshot shade */
    padding: 5px;
    text-align: center;
    font-size: 12px;
    color: #ccc;
    font-family: monospace;
  }
  .screen {
    flex: 1;
    display: none;
    flex-direction: column;
    padding: 16px;
    box-sizing: border-box;
  }
  .active {
    display: flex !important;
  }
  .title {
    font-size: 22px;
    font-weight: 600;
    margin: 24px 0;
    text-align: center;
  }
  .button {
    background: #343541;
    color: white;
    padding: 12px 16px;
    border-radius: 8px;
    margin: 8px auto;
    width: 90%;
    text-align: left;
    cursor: pointer;
  }
  .chat-container {
    flex: 1;
    width: 100%;
    overflow-y: auto;
    padding: 8px;
    display: flex;
    flex-direction: column;
    box-sizing: border-box;
  }
  .message {
    padding: 10px;
    margin: 5px 0;
    border-radius: 8px;
    max-width: 80%;
    line-height: 1.4;
    white-space: pre-wrap;
  }
  .assistant {
    background: #343541;
    align-self: flex-start;
    position: relative;
    display: flex;
    flex-direction: column;
  }
  .copy-icon {
    width: 16px;
    height: 16px;
    margin-top: 4px;
    opacity: 0.7;
  }
  .user {
    background: #444654;
    align-self: flex-end;
  }
  .input-container {
    display: flex;
    background: #40414f;
    padding: 10px;
    align-items: center;
    position: sticky;
    bottom: 0;
  }
  .input-box {
    flex: 1;
    border: none;
    border-radius: 16px;
    padding: 8px;
    font-size: 14px;
    background: #343541;
    color: white;
    margin: 0 8px;
  }
  .icon {
    width: 18px;
    height: 18px;
    opacity: 0.7;
  }
  .typing-dots {
    display: flex;
    align-items: center;
    justify-content: flex-start;
    gap: 3px;
  }
  .dot {
    width: 6px;
    height: 6px;
    background: #999;
    border-radius: 50%;
    animation: fade 1s infinite;
  }
  .dot:nth-child(2) { animation-delay: 0.2s; }
  .dot:nth-child(3) { animation-delay: 0.4s; }
  @keyframes fade {
    0%, 80%, 100% { opacity: 0.2; }
    40% { opacity: 1; }
  }
  .disclaimer {
    text-align: center;
    font-size: 10px;
    color: #999;
    padding: 4px;
  }
</style>
</head>
<body ontouchstart="">
<script>console.log("v3.2 loaded");</script>

<div class="fake-urlbar">https://chat.openai.com</div>

<div id="homepage" class="screen active">
  <div class="title">ChatGPT</div>
  <div class="button" id="btnHelp">Help me write</div>
  <div class="button" id="btnSurprise">Surprise me</div>
  <div class="button" id="btnPoem">Write a poem</div>
  <input id="homeInput" class="input-box" placeholder="Message ChatGPT">
</div>

<div id="chatview" class="screen">
  <div class="chat-container" id="chat"></div>
  <div class="input-container">
    <img src="icons/attachment.png" class="icon">
    <input id="userInput" class="input-box" placeholder="Message ChatGPT">
    <img src="icons/globe.png" class="icon">
    <img src="icons/arrow.png" class="icon" id="sendBtn">
  </div>
  <div class="disclaimer">ChatGPT can make mistakes. Consider checking important information.</div>
</div>

<script>
let forcedObject = "AirPods";
let randomObjects = [
  "coin", "key", "dice", "marble", "ring", "button", "pen", "pebble", "screw", 
  "paperclip", "thimble", "bead", "matchstick", "cork", "eraser", "bolt", "washer",
  "pin", "shell", "stone", "ticket stub", "stamp", "leaf", "magnet", "clip"
].filter(o => o.toLowerCase() !== forcedObject.toLowerCase());

let requestCount = 0;

function capitalizeSentence(str) {
  return str.charAt(0).toUpperCase() + str.slice(1) + ".";
}

function goToChat() {
  document.getElementById("homepage").classList.remove("active");
  document.getElementById("chatview").classList.add("active");
}

function sendMessage() {
  const chat = document.getElementById("chat");
  const input = document.getElementById("userInput");
  const userText = input.value.trim();
  if (!userText) return;

  let userDiv = document.createElement("div");
  userDiv.className = "user message";
  userDiv.textContent = userText;
  chat.appendChild(userDiv);

  input.value = "";

  let assistantDiv = document.createElement("div");
  assistantDiv.className = "assistant message";
  let dotsDiv = document.createElement("div");
  dotsDiv.className = "typing-dots";
  dotsDiv.innerHTML = '<div class="dot"></div><div class="dot"></div><div class="dot"></div>';
  assistantDiv.appendChild(dotsDiv);
  chat.appendChild(assistantDiv);
  chat.scrollTop = chat.scrollHeight;

  setTimeout(() => {
    assistantDiv.innerHTML = "";
    let reply;
    if (userText.toLowerCase().includes("random object")) {
      requestCount++;
      if (requestCount === 3) {
        reply = forcedObject;
      } else {
        reply = randomObjects[Math.floor(Math.random() * randomObjects.length)];
      }
    } else {
      reply = "Hmm, interesting! Could you clarify?";
    }
    reply = capitalizeSentence(reply);
    let textNode = document.createTextNode(reply);
    assistantDiv.appendChild(textNode);

    let copyIcon = document.createElement("img");
    copyIcon.src = "icons/copy.png";
    copyIcon.className = "copy-icon";
    assistantDiv.appendChild(copyIcon);

    chat.scrollTop = chat.scrollHeight;
  }, 1500);
}

document.getElementById("btnHelp").addEventListener("click", goToChat);
document.getElementById("btnSurprise").addEventListener("click", goToChat);
document.getElementById("btnPoem").addEventListener("click", goToChat);
document.getElementById("homeInput").addEventListener("focus", goToChat);
document.getElementById("sendBtn").addEventListener("click", sendMessage);
</script>

</body>
</html>
